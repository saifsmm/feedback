<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dorchester | Customer Happiness</title>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;600&display=swap" rel="stylesheet" />
  
  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  
  <!-- Our CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="card">
    <div id="backArrow" onclick="goBack()">&lt;--</div>
    <img src="longlogo-dorchester.png" alt="Dorchester Logo" class="logo" />
    
    <div id="main-question">
      <h1>How was your experience today?<br><span class="arabic">كيف كانت تجربتك اليوم؟</span></h1>
      <div class="emoji-box" id="emojis">
        <div class="emoji emoji-very-bad" onclick="selectEmoji('😡')">
          <img src="bad.png" alt="Bad" class="emoji-img">
          <div class="emoji-text">Bad</div>
        </div>
        <div class="emoji emoji-poor" onclick="selectEmoji('😞')">
          <img src="poor.png" alt="Poor" class="emoji-img">
          <div class="emoji-text">Poor</div>
        </div>
        <div class="emoji emoji-okay" onclick="selectEmoji('😐')">
          <img src="okay.png" alt="Okay" class="emoji-img">
          <div class="emoji-text">Okay</div>
        </div>
        <div class="emoji emoji-good" onclick="selectEmoji('😄')">
          <img src="good.png" alt="Good" class="emoji-img">
          <div class="emoji-text">Good</div>
        </div>
        <div class="emoji emoji-excellent" onclick="selectEmoji('🥰')">
          <img src="excellent.png" alt="Excellent" class="emoji-img">
          <div class="emoji-text">Excellent</div>
        </div>
      </div>
    </div>

    <div id="subquestion">
      <h1>Please fill in your details<br><span class="arabic">يرجى تعبئة التفاصيل</span></h1>
      <p style="font-size: 0.9rem; color: #6b7280; margin: 0.5rem 0 1.5rem 0; font-weight: 400; opacity: 0.8;">Optional - you can skip and submit directly<br><span class="arabic">اختياري - يمكنك التخطي والإرسال مباشرة</span></p>
    </div>

    <form id="detailsForm" onsubmit="submitForm(event)">
      <div class="input-wrapper">
        <input type="text" id="name" placeholder="Your Name / اسمك"
          oninput="validateField(this, 'check-name', 'x-name'); checkSubmitButton()"
          onblur="validateField(this, 'check-name', 'x-name')">
        <span class="checkmark" id="check-name">✔️</span>
        <span class="xmark" id="x-name">❌</span>
      </div>
      <div class="input-wrapper">
        <input type="text" id="contact" placeholder="Contact Number / رقم التواصل"
          oninput="validateField(this, 'check-contact', 'x-contact')"
          onblur="validateField(this, 'check-contact', 'x-contact')">
        <span class="checkmark" id="check-contact">✔️</span>
        <span class="xmark" id="x-contact">❌</span>
      </div>
      <div class="input-wrapper">
        <textarea rows="3" id="comments" placeholder="Additional Comments / ملاحظات إضافية" maxlength="200"
          oninput="checkSubmitButton(); updateCharCount(this)"></textarea>
        <span class="checkmark" id="check-comments">✔️</span>
        <div class="char-count" id="char-count">0/200</div>
      </div>
      <div class="loader" id="loader"></div>
      <div class="button-container">
        <button type="button" class="skip-btn" onclick="skipSubmit()">Skip and Submit</button>
        <button type="submit" class="submit-btn" id="submitBtn" disabled>Submit</button>
      </div>
    </form>

    <div id="thankyou">
      <p>Thank you for your feedback!<br><span class="arabic">شكراً لملاحظاتك!</span></p>
    </div>
  </div>

  <!-- Inactivity Warning Modal -->
  <div class="inactivity-warning" id="inactivityWarning">
    <div class="warning-modal">
      <h2>⏰ Still there?</h2>
      <p>Auto-submitting your rating in:<br>
        <span class="arabic">سيتم إرسال تقييمك تلقائياً خلال</span>
      </p>
      <div class="countdown-display" id="countdownDisplay">10</div>
      <div class="warning-buttons">
        <button type="button" class="warning-btn continue-btn" onclick="continueSession(); return false;">
          Wait, let me finish<br><span class="arabic">انتظر، دعني أكمل</span>
        </button>
        <button type="button" class="warning-btn restart-btn" onclick="submitNow(); return false;">
          Submit now<br><span class="arabic">إرسال الآن</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Our JavaScript -->
  <script src="feedback.js"></script>
</body>

</html>
